{% extends "layout.html" %}

{% block title %}
    Search Book
{% endblock %}

{% set actionUrl = '/search' %}

{% block pageTitle %}
    Search book
{% endblock %}

{% block formContent %}
    <div class="flex items-center">
        <label for="book_title" class="w-40 font-medium">Book title:</label>
        <input type="text" name="book_title" placeholder="Enter book title" class="ml-2 p-1 border border-gray-300 rounded w-64">
    </div>
    
    <div class="flex items-center">
        <label for="author_name" class="w-40 font-medium">Author Name:</label>
        <input type="text" name="author_name" placeholder="Enter author name" class="ml-2 p-1 border border-gray-300 rounded w-64">
    </div>
    
    <div class="flex items-center">
        <label for="isbn_no" class="w-40 font-medium">ISBN No:</label>
        <input type="text" name="isbn_no" placeholder="Enter ISBN number" class="ml-2 p-1 border border-gray-300 rounded w-64">
    </div>
    
    <button type="submit" class="mt-4 px-4 py-2 bg-blue-500 hover:bg-blue-500/80 active:bg-blue-500/60 duration-100 text-white rounded cursor-pointer">Search</button>
{% endblock %}

{% block main %}

    {% if error %}
        <span class="text-red-400">{{ error }}</span>
    {% endif %}

    <hr>

    {% if books %}
            <table class="table-auto w-75 border-collapse border border-gray-300 mt-4">
                <thead class="bg-zinc-600 text-white">
                    <tr>
                        <th class="border border-gray-300 px-4 py-2">Loan_record_id</th>
                        <th class="border border-gray-300 px-4 py-2">ISBN NO</th>
                        <th class="border border-gray-300 px-4 py-2">Book Title</th>
                        <th class="border border-gray-300 px-4 py-2">Author</th>
                        <th class="border border-gray-300 px-4 py-2">Category</th>
                        <th class="border border-gray-300 px-4 py-2">Publisher</th>
                        <th class="border border-gray-300 px-4 py-2">Location District</th>
                        <th class="border border-gray-300 px-4 py-2">Book Shelf</th>
                        <th class="border border-gray-300 px-4 py-2">Shelf Level</th>
                    </tr>
                </thead>
                <tbody>
                    {% for book in books %}
                    <tr class="{% if loop.index0 % 2 == 0 %}bg-white{% else %}bg-gray-100{% endif %}">
                        <td class="border border-gray-300 px-4 py-2">{{ book[0] }}</td>
                        <td class="border border-gray-300 px-4 py-2">{{ book[1] }}</td>
                        <td class="border border-gray-300 px-4 py-2">{{ book[2] }}</td>
                        <td class="border border-gray-300 px-4 py-2">{{ book[3] }}</td>
                        <td class="border border-gray-300 px-4 py-2">{{ book[4] }}</td>
                        <td class="border border-gray-300 px-4 py-2">{{ book[5] }}</td>
                        <td class="border border-gray-300 px-4 py-2">{{ book[6] }}</td>
                        <td class="border border-gray-300 px-4 py-2">{{ book[7] }}</td>
                        <td class="border border-gray-300 px-4 py-2">{{ book[8] }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

        {% else %}
            <p>No books found or search to see results.</p>
        {% endif %}

{% endblock %}